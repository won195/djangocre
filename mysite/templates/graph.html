<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Graph</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      .container {
        margin: 0 auto;
        width: 80%;
      }

      .grid {
        display: flex;
      }

      .grid > div {
        flex: 1;
      }

      .canvas-container {
        position: relative;
        width: 50%;
        padding-bottom: 25%;
      }

      .canvas-container canvas {
        position: absolute;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <main class="container">
      <section style="margin-bottom: 1.5rem">
        <hgroup>
          <h2>제목</h2>
          <h3>
            부제목 <b><a href="http://127.0.0.1:8000/">링크</a></b>
          </h3>
        </hgroup>
        <small> 
          내용 
        </small>
      </section>
      <div class="grid" style="margin-bottom: 1fr">
        <div class="canvas-container">
          <canvas id="completionChart"></canvas>
        </div>
        <div class="canvas-container">
          <canvas id="avgUserLevelChart"></canvas>
        </div>
      </div>
      <div class="grid" style="margin-bottom: 2fr">
        <div class="canvas-container">
          <canvas id="pieChart"></canvas>
        </div>
        <div class="canvas-container">
          <canvas id="doughnutChart"></canvas>
        </div>
      </div>
      <div class="grid" style="margin-bottom: 3fr">
        <canvas id="radarChart"></canvas>
      </div>
    </main>

    <script>
            const labels_completion = {{ labels_completion|safe }};
            const values_completion = {{ values_completion|safe }};
            const labels_avg_user_level = {{ labels_avg_user_level|safe }};
            const values_avg_user_level = {{ values_avg_user_level|safe }};
            const labels_pie_chart = {{ labels_pie_chart|safe }};
            const values_pie_chart = {{ values_pie_chart|safe }};
            const labels_doughnut_chart = {{ labels_doughnut_chart|safe }};
            const values_doughnut_chart = {{ values_doughnut_chart|safe }};
            const labels_radar_chart = {{ labels_radar_chart|safe }};
            const values_radar_chart = {{ values_radar_chart|safe }};

            const ctx1 = document.getElementById('completionChart').getContext('2d');
            const completionChart = new Chart(ctx1, {
              type: 'bar',
              data: {
                  labels: labels_completion,
                  datasets: [{
                      label: 'Completion',
                      data: values_completion,
                      backgroundColor: 'rgba(75, 192, 192, 0.2)',
                      borderColor: 'rgba(75, 192, 192, 1)',
                      borderWidth: 2
                  }]
              },
              options: {
                  aspectRatio: 2,
                  scales: {
                    y: {
                      beginAtZero: true,
                      display:true,
                      title:{
                          display:true,
                          text:'Average User Level Rating (1-10)',
                          font:{
                              style:'normal',
                              lineHeight :1.2
                          },
                          padding:{top :0,left :0,right :0,bottom :5}
                      }
                  },
                  x:{
                      beginAtZero:true,
                      display:true,
                      title:{
                          display:true,
                          text:'Bite ID',
                          font:{
                              style:'normal',
                              lineHeight :1.2
                          },
                          padding:{top :5,left :0,right :0,bottom :0}
                      }
                  }
              }
          }
      });


            const ctx2 = document.getElementById('avgUserLevelChart').getContext('2d');
            const avgUserLevelChart = new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: labels_avg_user_level,
                    datasets: [{
                        label: 'Average User Level',
                        data: values_avg_user_level,
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                  aspectRatio: 2,
                  scales: {
                      y: {
                          beginAtZero: true,
                          display:true,
                          title:{
                              display:true,
                              text:'Average User Level Rating (1-10)',
                              font:{
                                  style:'normal',
                                  lineHeight :1.2
                              },
                              padding:{top :0,left :0,right :0,bottom :5}
                          }
                      },
                      x:{
                          beginAtZero:true,
                          display:true,
                          title:{
                              display:true,
                              text:'Bite ID',
                              font:{
                                  style:'normal',
                                  lineHeight :1.2
                              },
                              padding:{top :5,left :0,right :0,bottom :0}
                          }
                      }
                  }
              }
          });


          const ctx3 = document.getElementById('pieChart').getContext('2d');
          const pieChart = new Chart(ctx3, {
              type: 'pie',
              data: {
                  labels: labels_pie_chart,
                  datasets: [{
                      label: 'Pie Chart',
                      data: values_pie_chart,
                      backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)'],
                      borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)'],
                      borderWidth: 1
                  }]
              },
              options: {
                aspectRatio: 2,
                scales: {
                    y: {
                        beginAtZero: true,
                        display:true,
                        title:{
                            display:true,
                            text:'Pie Chart',
                            font:{
                                style:'normal',
                                lineHeight :1.2
                            },
                            padding:{top :0,left :0,right :0,bottom :5}
                        }
                      },
                      x:{
                            beginAtZero:true,
                            display:true,
                            title:{
                                display:true,
                                text:'Labels',
                                font:{
                                    style:'normal',
                                    lineHeight :1.2
                                },
                                padding:{top :5,left :0,right :0,bottom :0}
                    }
                }
              }
          }
        });

          const ctx4 = document.getElementById('doughnutChart').getContext('2d');
          const doughnutChart = new Chart(ctx4, {
              type: 'doughnut',
              data: {
                  labels: labels_doughnut_chart,
                  datasets: [{
                      label: 'Doughnut Chart',
                      data: values_doughnut_chart,
                      backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)'],
                      borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)'],
                      borderWidth: 1
                  }]
              },
              options: {
                aspectRatio: 2,
                scales: {
                    y: {
                        beginAtZero: true,
                        display:true,
                        title:{
                            display:true,
                            text:'Doughnut Chart',
                            font:{
                                style:'normal',
                                lineHeight :1.2
                            },
                            padding:{top :0,left :0,right :0,bottom :5}
                        }
                    },
                    x:{
                        beginAtZero:true,
                        display:true,
                        title:{
                            display:true,
                            text:'Labels',
                            font:{
                                style:'normal',
                                lineHeight :1.2
                            },
                            padding:{top :5,left :0,right :0,bottom :0}
                        }
                    }
                  }
              }
          });

          const ctx5 = document.getElementById('radarChart').getContext('2d');
          const radarChart = new Chart(ctx5, {
              type: 'radar',
              data: {
                  labels: labels_radar_chart,
                  datasets: [{
                  label: 'Radar Chart',
                      data: values_radar_chart,
                      backgroundColor: 'rgba(75, 192, 192, 0.2)',
                      borderColor: 'rgba(75, 192, 192, 1)',
                      borderWidth: 1
                  }]
              },
              options: {
                aspectRatio: 2,
                scales: {
                  y: {
                      beginAtZero: true,
                      display:true,
                      title:{
                          display:true,
                          text:'Radar Chart',
                          font:{
                              style:'normal',
                              lineHeight :1.2
                          },
                          padding:{top :0,left :0,right :0,bottom :5}
                      }
                  },
                  x:{
                      beginAtZero:true,
                      display:true,
                      title:{
                          display:true,
                          text:'Labels',
                          font:{
                              style:'normal',
                              lineHeight :1.2
                          },
                          padding:{top :5,left :0,right :0,bottom :0}
                      }
                  }
                  }
              }
          });
    </script>
  </body>
</html>
